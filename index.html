<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>krypton</title>
        <link href="https://fonts.googleapis.com/css2?family=Geist:wght@100..900&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="./styles.css">
        <script src="https://unpkg.com/lucide@latest"></script>
        <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    </head>
    <body>
        <div class="maintainer">
            <div class="tbar" id="tabBar">
                <div class="tab active" data-tab-id="1">
                    <div class="tab-fav">
                        <i data-lucide="globe"></i>
                    </div>
                    <span class="tab-tl">New Tab</span>
                    <div class="tab-cl">
                        <i data-lucide="x"></i>
                    </div>
                </div>
                <div class="nt-btn" id="ntBtn">
                    <i data-lucide="plus" style="width: 14px; height: 14px;color: #808080;"></i>
                </div>
            </div>
            <div class="address-bar">
                <button class="nav-btn" id="backBtn" disabled>
                    <i data-lucide="arrow-left"></i>
                </button>
                <button class="nav-btn" id="fwBtn" disabled>
                    <i data-lucide="arrow-right"></i>
                </button>
                <button class="nav-btn" id="refBtn">
                    <i data-lucide="rotate-cw"></i>
                </button>
                <div class="url-intainer">
                    <div class="url-icon">
                        <i data-lucide="atom"></i>
                    </div>
                    <input type="text" class="url-input" placeholder="Search or enter address" id="urlInput">
                </div>
                <button class="nav-btn" id="bmBtn">
                    <i data-lucide="star"></i>
                </button>
                <div class="menu-wpr">
                    <button class="nav-btn" id="menuBtn">
                        <i data-lucide="more-vertical"></i>
                    </button>
                    <div class="dr-menu" id="drMenu">
                        <div class="menu-item" id="aboutItem">
                            <i data-lucide="info"></i>
                            <span>About</span>
                        </div>
                        <div class="menu-item" id="historyItem">
                            <i data-lucide="clock"></i>
                            <span>History</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bookmarks-bar">
                <span class="bm-label">Bookmarks</span>
                <div class="bm-container" id="bmContainer"></div>
            </div>
            <div class="c-area">
                <div id="particles-js"></div>
                <div class="wscreen">
                    <h1>krypton</h1>
                    <p class="subtitle">placeholder, sub</p>
                    <div class="search-box">
                        <div class="search-in-wpr">
                            <div class="search-icon">
                                <i data-lucide="search"></i>
                            </div>
                            <input type="text" class="search-input" placeholder="search here...">
                        </div>
                    </div>
                    <div class="shortcuts">
                        <div class="shortcut">
                            <div class="s-icon">
                                <i data-lucide="gamepad-2"></i>
                            </div>
                            <div class="s-title">games</div>
                        </div>
                        <div class="shortcut">
                            <div class="s-icon">
                                <i data-lucide="layout-grid"></i>
                            </div>
                            <div class="s-title">apps</div>
                        </div>
                        <div class="shortcut">
                            <div class="s-icon">
                                <i data-lucide="bookmark"></i>
                            </div>
                            <div class="s-title">bookmarks</div>
                        </div>
                        <div class="shortcut">
                            <div class="s-icon">
                                <i data-lucide="settings"></i>
                            </div>
                            <div class="s-title">settings</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="about-ovr" id="aboutOverlay">
            <div class="ovrlay">
                <div class="ovr-header">
                    <div class="ovr-title">
                        <i data-lucide="info"></i>
                        <span>About</span>
                    </div>
                    <button class="ovr-close" id="closeAbout">
                        <i data-lucide="x"></i>
                    </button>
                </div>
                <div class="ovr-content">
                    <h2>about krypton</h2>
                    <p>placeholder desc</p>
                    <div class="ovr-info">
                        <div class="ovr-info-item">
                            <span class="ovr-info-lb">version</span>
                            <span class="ovr-info-val">1.0.0</span>
                        </div>
                        <div class="ovr-info-item">
                            <span class="ovr-info-lb">proxy</span>
                            <span class="ovr-info-val">Tinyjet (Scramjet Static)</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--<script src="script.js"></script>-->
        <script src="https://cdn.jsdelivr.net/gh/soap-phia/tinyjet@latest/tinyjet/scramjet.all.js" defer></script>
        <script type="module" defer>
            import * as BareMux from "https://cdn.jsdelivr.net/npm/@mercuryworkshop/bare-mux/dist/index.mjs";
            const { ScramjetController } = $scramjetLoadController();
            const scramjet = new ScramjetController({
                files: {
                    wasm: "https://cdn.jsdelivr.net/gh/soap-phia/tinyjet@latest/tinyjet/wasm.wasm",
                    all: "https://cdn.jsdelivr.net/gh/soap-phia/tinyjet@latest/tinyjet/scramjet.all.js",
                    sync: "https://cdn.jsdelivr.net/gh/soap-phia/tinyjet@latest/tinyjet/scramjet.sync.js"
                }
            });
            try {
                scramjet.init();
                navigator.serviceWorker.register("/sw.js");
            } catch (e) {
                console.error("scramjet failed to initialise :(", e);
            }
            const connection = new BareMux.BareMuxConnection("/bareworker.js");
            async function setTransport() {
                await connection.setTransport("https://cdn.jsdelivr.net/npm/@mercuryworkshop/epoxy-transport/dist/index.mjs", [{
                    wisp: "wss://gointospace.app/wisp/"
                }]);
            }
            setTransport();
            window.scramjet = scramjet;
            window.proxyReady = true;
            const script = document.createElement('script');
            script.src = 'script.js';
            document.body.appendChild(script);
        </script>
    </body>
</html>